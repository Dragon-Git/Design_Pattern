# 状态模式

## 意图

允许对象在内部状态发生改变时改变它的行为，对象看起来好像修改了它的类。

## 动机

稳定的数据结构和易变的操作耦合问题。

## 使用场景

1.运行时行为随状态改变而改变的场景。 
2.有很多依赖对象状态的分支的条件语句。

## 优缺点

1.所有与某个状态有关的行为封装到一个类中，并且可以方便地增加新的状态 
2.使状态转换更明确，并且保证了状态转换的原子性
3.可以让多个环境对象共享一个状态对象，从而减少系统中对象的个数
4.增加系统类和对象的个数
5.状态模式对"开闭原则"的支持并不太好，对于可以切换状态的状态模式，增加新的状态类需要修改那些负责状态转换的源代码 

## 实现

1.谁定义状态转换，转换准则固定可由context定义，state定义转换准则会更灵活
2. 使用表将输入驱动映射到状态转换
3.创建和销毁state对象，依据状态改变频率决定是否动态创建和销毁
4.可用动态继承实现，对于有委托机制的语言，可利用委托机制